/************************************************************/
/*					neuron.c								*/
/*		PÌÌlHj[ÌvZ							*/
/*		KÈdÝÆèlðL·élûj[ðÍ[·é	*/
/*		g¢û												*/
/*		/home/ML02/neu/neuron.c								*/
/************************************************************/

/* Visusal StudioÆÌÝ·«mÛ */
#define _CRT_SECURE_NO_WARININGS

/* wb_t@CÌCN[h */
#include <stdio.h>
#include <stdlib.h>
#include <math.h>

/* Lè */
#define INPUTNO 2				/* üÍ */
#define MAXINPUTNO 100		/* f[^ÌÅåÂ */

/* ÖÌvg^CvÌé¾ */
double f(double u);						/* `BÖ */
void initw(double w[INPUTNO + 1]);		/* dÝÆèlÌú» */
double  forward(double w[INPUTNO + 1],
				double e[INPUTNO]);		/* ûüÌvZ */
int getdata(double e[][INPUTNO]);		/* f[^ÇÝÝ */

/************************************************************/
/*					main()Ö								*/
/************************************************************/
int main()
{
double w[INPUTNO + 1];				/* dÝÆèl */
double e[MAXINPUTNO][INPUTNO];		/* f[^Zbg */
double o;							/* oÍ */
int i, j;							/* JèÔµ */
int n_of_e;							/* f[^ÌÇÝÝ */

/* dÝÌú» */
initw(w);


/* üÍf[^ÌÇÝÝ */
n_of_e = getdata(e);
printf("データの個数:%d\n", n_of_e);


/* vZÌ{Ì */
   for(i = 0; i < n_of_e; ++i)
   {
		printf("%d ", i);
		for(j = 0; j < INPUTNO; ++j)
			printf("%lf ", e[i][j]);
		o = forward(w, e[i]);
		printf("%lf\n", o);
   }
return 0;
}
/************************************************************/
/*					getdata()Ö							*/
/*			wKf[^ÌÇÝÝ							*/
/************************************************************/
int getdata(double e[][INPUTNO])
{
int n_of_e = 0;			/* f[^ZbgÌÂ */
int j = 0;				/* JèÔµÌ§äp  */

/* f[^ÌüÍ */
   while(scanf("%lf", &e[n_of_e][j]) != EOF)
   {
   ++j;
   	if(j >= INPUTNO)		/* Ìf[^ */
   	{
   		j = 0;
   		++n_of_e;
   	}
   }
return n_of_e;
}
/************************************************************/
/*					forward()Ö							*/
/*					ûüÌvZ							*/
/************************************************************/
double forward(double w[INPUTNO + 1], double e[INPUTNO])
{
int i;						/* JèÔµÌ§ä */
double u, o;				/* rÌvZluÆoÍo */

/* vZÌ{Ì */
u = 0;
   for(i = 0; i < INPUTNO; ++i)
   	u += e[i] * w[i];
   u -= w[i];				/* èlÌ */
   /* oÍnÌvZ */
   o = f(u);
   return o;
}
/************************************************************/
/*					initw()Ö								*/
/*					dÝÌú»							*/
/************************************************************/
void initw(double w[INPUTNO + 1])
{
	/* èð×dÆµÄ^¦é */
	w[0] = 1;
	w[1] = 1;
	w[2] = 1.5;
	// w[2] = 0.5;

}
/************************************************************/
/*					f()Ö									*/
/*					`BÖ								*/
/************************************************************/
double f(double u)
{
/* XebvÖÌvZ */
   if(u >= 0) return 1.0;
   else return 0.0;

/* VOChÖÌvZ */
// return 1.0 / (1.0 + exp(-u));
}
